function get_eco(e) {
    fetch("/api/eco.json").then(function (n) {
        n.json().then(function (n) {
            e({
                ...n.spawners
            })
        })
    })
}

function format_price(e) {
    return "$" + e.toFixed(2).toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g, ",")
}

function render_eco() {
    get_eco(function (e) {
        var n = document.querySelector(".main-table-eco");
        for (let d in e) {
            var a = e[d],
                t = document.createElement("tr");
            t.classNmae = "main-table-eco-row";
            var c = document.createElement("td");
            c.className = "main-table-eco-cell", c.innerHTML = a.name;
            var l = document.createElement("td");
            l.className = "main-table-eco-cell", l.innerHTML = format_price(a.cost);
            var r = document.createElement("td");
            r.className = "main-table-eco-cell", r.innerHTML = a.drops.join(" & ");
            var o = document.createElement("td");
            o.className = "main-table-eco-cell", o.innerHTML = format_price(a.sellprice);
            var i = document.createElement("td");
            i.className = "main-table-eco-cell", i.innerHTML = a.secondary, t.appendChild(c), t.appendChild(l), t.appendChild(r), t.appendChild(o), t.appendChild(i), n.appendChild(t)
        }
    })
}